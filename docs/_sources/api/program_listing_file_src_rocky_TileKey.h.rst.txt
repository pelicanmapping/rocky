
.. _program_listing_file_src_rocky_TileKey.h:

Program Listing for File TileKey.h
==================================

|exhale_lsh| :ref:`Return to documentation for file <file_src_rocky_TileKey.h>` (``src/rocky/TileKey.h``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   
   #pragma once
   
   #include <rocky/Common.h>
   #include <rocky/Profile.h>
   #include <string>
   #include <functional> // std::hash
   #include <vector>
   
   namespace ROCKY_NAMESPACE
   {
       class GeoPoint;
   
       class ROCKY_EXPORT TileKey
       {
       public:
           unsigned level;
           unsigned x;
           unsigned y;
           Profile profile;
   
           TileKey() = default;
   
           TileKey(const TileKey& rhs) = default;
           TileKey& operator = (const TileKey& rhs) = default;
           TileKey(TileKey&& rhs) noexcept;
           TileKey& operator = (TileKey&& rhs) noexcept;
   
           TileKey(unsigned level, unsigned tile_x, unsigned tile_y, const Profile& profile);
   
           inline bool operator == (const TileKey& rhs) const {
               return
                   valid() == rhs.valid() &&
                   level == rhs.level &&
                   x == rhs.x &&
                   y == rhs.y &&
                   profile == rhs.profile;
           }
   
           inline bool operator != (const TileKey& rhs) const {
               return
                   valid() != rhs.valid() ||
                   level != rhs.level ||
                   x != rhs.x ||
                   y != rhs.y ||
                   profile != rhs.profile;
           }
   
           inline bool operator < (const TileKey& rhs) const {
               if (level < rhs.level) return true;
               if (level > rhs.level) return false;
               if (x < rhs.x) return true;
               if (x > rhs.x) return false;
               if (y < rhs.y) return true;
               if (y > rhs.y) return false;
               return profile.hash() < rhs.profile.hash();
           }
   
           const std::string str() const;
   
           bool valid() const {
               return profile.valid();
           }
   
           unsigned getQuadrant() const;
   
           TileKey createChildKey(unsigned quadrant) const;
   
           const glm::dmat4 scaleBiasMatrix() const;
   
           TileKey createParentKey() const;
   
           bool makeParent();
   
           TileKey createAncestorKey(unsigned ancestorLod) const;
   
           TileKey createNeighborKey(int xoffset, int yoffset) const;
   
           GeoExtent extent() const;
   
           std::string quadKey() const;
   
           std::pair<double,double> getResolutionForTileSize(
               unsigned tileSize) const;
   
           static TileKey createTileKeyContainingPoint(
               double x, double y, unsigned level,
               const Profile& profile);
   
           static TileKey createTileKeyContainingPoint(
               const GeoPoint& point,
               unsigned level,
               const Profile& profile);
   
           std::vector<TileKey> intersectingKeys(const Profile& profile) const;
       };
   }
