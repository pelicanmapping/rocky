
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>class RTree - Rocky</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#class-rtree" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Rocky" class="md-header__button md-logo" aria-label="Rocky" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Rocky
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              class RTree
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Rocky" class="md-nav__button md-logo" aria-label="Rocky" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Rocky
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../README.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Index
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#members" class="md-nav__link">
    <span class="md-ellipsis">
      Members
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#records" class="md-nav__link">
    <span class="md-ellipsis">
      Records
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rtree" class="md-nav__link">
    <span class="md-ellipsis">
      RTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rtree_1" class="md-nav__link">
    <span class="md-ellipsis">
      RTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rtree_2" class="md-nav__link">
    <span class="md-ellipsis">
      ~RTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    <span class="md-ellipsis">
      Insert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    <span class="md-ellipsis">
      Remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search" class="md-nav__link">
    <span class="md-ellipsis">
      Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersects" class="md-nav__link">
    <span class="md-ellipsis">
      Intersects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removeall" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveAll
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count" class="md-nav__link">
    <span class="md-ellipsis">
      Count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load" class="md-nav__link">
    <span class="md-ellipsis">
      Load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load_1" class="md-nav__link">
    <span class="md-ellipsis">
      Load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    <span class="md-ellipsis">
      Save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_1" class="md-nav__link">
    <span class="md-ellipsis">
      Save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfirst" class="md-nav__link">
    <span class="md-ellipsis">
      GetFirst
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getnext" class="md-nav__link">
    <span class="md-ellipsis">
      GetNext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isnull" class="md-nav__link">
    <span class="md-ellipsis">
      IsNull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getat" class="md-nav__link">
    <span class="md-ellipsis">
      GetAt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocnode" class="md-nav__link">
    <span class="md-ellipsis">
      AllocNode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#freenode" class="md-nav__link">
    <span class="md-ellipsis">
      FreeNode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initnode" class="md-nav__link">
    <span class="md-ellipsis">
      InitNode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initrect" class="md-nav__link">
    <span class="md-ellipsis">
      InitRect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertrectrec" class="md-nav__link">
    <span class="md-ellipsis">
      InsertRectRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertrect" class="md-nav__link">
    <span class="md-ellipsis">
      InsertRect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecover" class="md-nav__link">
    <span class="md-ellipsis">
      NodeCover
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addbranch" class="md-nav__link">
    <span class="md-ellipsis">
      AddBranch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disconnectbranch" class="md-nav__link">
    <span class="md-ellipsis">
      DisconnectBranch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pickbranch" class="md-nav__link">
    <span class="md-ellipsis">
      PickBranch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combinerect" class="md-nav__link">
    <span class="md-ellipsis">
      CombineRect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splitnode" class="md-nav__link">
    <span class="md-ellipsis">
      SplitNode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rectsphericalvolume" class="md-nav__link">
    <span class="md-ellipsis">
      RectSphericalVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rectvolume" class="md-nav__link">
    <span class="md-ellipsis">
      RectVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calcrectvolume" class="md-nav__link">
    <span class="md-ellipsis">
      CalcRectVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getbranches" class="md-nav__link">
    <span class="md-ellipsis">
      GetBranches
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choosepartition" class="md-nav__link">
    <span class="md-ellipsis">
      ChoosePartition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadnodes" class="md-nav__link">
    <span class="md-ellipsis">
      LoadNodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initparvars" class="md-nav__link">
    <span class="md-ellipsis">
      InitParVars
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pickseeds" class="md-nav__link">
    <span class="md-ellipsis">
      PickSeeds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classify" class="md-nav__link">
    <span class="md-ellipsis">
      Classify
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removerect" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveRect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removerectrec" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveRectRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alloclistnode" class="md-nav__link">
    <span class="md-ellipsis">
      AllocListNode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#freelistnode" class="md-nav__link">
    <span class="md-ellipsis">
      FreeListNode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overlap" class="md-nav__link">
    <span class="md-ellipsis">
      Overlap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinsert" class="md-nav__link">
    <span class="md-ellipsis">
      ReInsert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search_1" class="md-nav__link">
    <span class="md-ellipsis">
      Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removeallrec" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveAllRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset" class="md-nav__link">
    <span class="md-ellipsis">
      Reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#countrec" class="md-nav__link">
    <span class="md-ellipsis">
      CountRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saverec" class="md-nav__link">
    <span class="md-ellipsis">
      SaveRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadrec" class="md-nav__link">
    <span class="md-ellipsis">
      LoadRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyrec" class="md-nav__link">
    <span class="md-ellipsis">
      CopyRec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listtree" class="md-nav__link">
    <span class="md-ellipsis">
      ListTree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enums" class="md-nav__link">
    <span class="md-ellipsis">
      Enums
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="class-rtree">class RTree</h1>
<p><em>Defined at src/rocky/rtree.h#61</em></p>
<p>RTree</p>
<p>Implementation of RTree, a multidimensional bounding rectangle tree. Example usage: For a 3-dimensional tree use RTree<Object*, float, 3> myTree;</p>
<p>This modified, templated C++ version by Greg Douglas at Auran (http://www.auran.com)</p>
<p>DATATYPE Referenced data, should be int, void<em>, obj</em> etc. no larger than sizeof<void*> and simple type ELEMTYPE Type of element such as int or float NUMDIMS Number of dimensions such as 2 or 3 ELEMTYPEREAL Type of element that allows fractional and large values such as float or double, for use in volume calcs</p>
<p>NOTES: Inserting and removing data requires the knowledge of its constant Minimal Bounding Rectangle.        This version uses new/delete for nodes, I recommend using a fixed size allocator for efficiency.        Instead of using a callback function for returned results, I recommend and efficient pre-sized, grow-only memory        array similar to MFC CArray or STL Vector for returning search query result.</p>
<h2 id="members">Members</h2>
<p>protected Node * m_root</p>
<p>protected ELEMTYPEREAL m_unitSphereVolume</p>
<h2 id="records">Records</h2>
<p>Node</p>
<p>Iterator</p>
<p>Rect</p>
<p>Branch</p>
<p>ListNode</p>
<p>PartitionVars</p>
<h2 id="functions">Functions</h2>
<h3 id="rtree">RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES></h3>
<p><em>public void RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES>()</em></p>
<p><em>Defined at src/rocky/rtree.h#469</em></p>
<h3 id="rtree_1">RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES></h3>
<p><em>public void RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES>(const RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES> &amp; other)</em></p>
<p><em>Defined at src/rocky/rtree.h#492</em></p>
<h3 id="rtree_2">~RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES></h3>
<p><em>public void ~RTree<DATATYPE, ELEMTYPE, NUMDIMS, ELEMTYPEREAL, TMAXNODES, TMINNODES>()</em></p>
<p><em>Defined at src/rocky/rtree.h#499</em></p>
<h3 id="insert">Insert</h3>
<p><em>public void Insert(const ELEMTYPE[NUMDIMS] a_min, const ELEMTYPE[NUMDIMS] a_max, const DATATYPE &amp; a_dataId)</em></p>
<p><em>Defined at src/rocky/rtree.h#506</em></p>
<p>Insert entry</p>
<p><strong>a_min</strong> Min of bounding rect</p>
<p><strong>a_max</strong> Max of bounding rect</p>
<p><strong>a_dataId</strong> Positive Id of data.  Maybe zero, but negative numbers not allowed.</p>
<h3 id="remove">Remove</h3>
<p><em>public void Remove(const ELEMTYPE[NUMDIMS] a_min, const ELEMTYPE[NUMDIMS] a_max, const DATATYPE &amp; a_dataId)</em></p>
<p><em>Defined at src/rocky/rtree.h#530</em></p>
<p>Remove entry</p>
<p><strong>a_min</strong> Min of bounding rect</p>
<p><strong>a_max</strong> Max of bounding rect</p>
<p><strong>a_dataId</strong> Positive Id of data.  Maybe zero, but negative numbers not allowed.</p>
<h3 id="search">Search</h3>
<p><em>public int Search(const ELEMTYPE[NUMDIMS] a_min, const ELEMTYPE[NUMDIMS] a_max, CALLBACK_TYPE &amp;&amp; callback)</em></p>
<p><em>Defined at src/rocky/rtree.h#552</em></p>
<h3 id="intersects">Intersects</h3>
<p><em>public _Bool Intersects(const ELEMTYPE[NUMDIMS] a_min, const ELEMTYPE[NUMDIMS] a_max)</em></p>
<p><em>Defined at src/rocky/rtree.h#579</em></p>
<p>True if the input intersects any data in the tree</p>
<h3 id="removeall">RemoveAll</h3>
<p><em>public void RemoveAll()</em></p>
<p><em>Defined at src/rocky/rtree.h#842</em></p>
<p>Remove all entries from tree</p>
<h3 id="count">Count</h3>
<p><em>public int Count()</em></p>
<p><em>Defined at src/rocky/rtree.h#585</em></p>
<p>Count the data elements in this container.  This is slow as no internal counter is maintained.</p>
<h3 id="load">Load</h3>
<p><em>public _Bool Load(const char * a_fileName)</em></p>
<p><em>Defined at src/rocky/rtree.h#613</em></p>
<p>Load tree contents from file</p>
<h3 id="load_1">Load</h3>
<p><em>public _Bool Load(RTFileStream &amp; a_stream)</em></p>
<p><em>Defined at src/rocky/rtree.h#633</em></p>
<p>Load tree contents from stream</p>
<h3 id="save">Save</h3>
<p><em>public _Bool Save(const char * a_fileName)</em></p>
<p><em>Defined at src/rocky/rtree.h#763</em></p>
<p>Save tree contents to file</p>
<h3 id="save_1">Save</h3>
<p><em>public _Bool Save(RTFileStream &amp; a_stream)</em></p>
<p><em>Defined at src/rocky/rtree.h#780</em></p>
<p>Save tree contents to stream</p>
<h3 id="getfirst">GetFirst</h3>
<p><em>public void GetFirst(Iterator &amp; a_it)</em></p>
<p><em>Defined at src/rocky/rtree.h#259</em></p>
<p>Get 'first' for iteration</p>
<h3 id="getnext">GetNext</h3>
<p><em>public void GetNext(Iterator &amp; a_it)</em></p>
<p><em>Defined at src/rocky/rtree.h#282</em></p>
<p>Get Next for iteration</p>
<h3 id="isnull">IsNull</h3>
<p><em>public _Bool IsNull(Iterator &amp; a_it)</em></p>
<p><em>Defined at src/rocky/rtree.h#285</em></p>
<p>Is iterator NULL, or at end?</p>
<h3 id="getat">GetAt</h3>
<p><em>public DATATYPE &amp; GetAt(Iterator &amp; a_it)</em></p>
<p><em>Defined at src/rocky/rtree.h#288</em></p>
<p>Get object at iterator position</p>
<h3 id="allocnode">AllocNode</h3>
<p><em>protected Node * AllocNode()</em></p>
<p><em>Defined at src/rocky/rtree.h#883</em></p>
<h3 id="freenode">FreeNode</h3>
<p><em>protected void FreeNode(Node * a_node)</em></p>
<p><em>Defined at src/rocky/rtree.h#897</em></p>
<h3 id="initnode">InitNode</h3>
<p><em>protected void InitNode(Node * a_node)</em></p>
<p><em>Defined at src/rocky/rtree.h#934</em></p>
<h3 id="initrect">InitRect</h3>
<p><em>protected void InitRect(Rect * a_rect)</em></p>
<p><em>Defined at src/rocky/rtree.h#942</em></p>
<h3 id="insertrectrec">InsertRectRec</h3>
<p><em>protected _Bool InsertRectRec(const Branch &amp; a_branch, Node * a_node, Node ** a_newNode, int a_level)</em></p>
<p><em>Defined at src/rocky/rtree.h#960</em></p>
<p>Inserts a new data rectangle into the index structure. Recursively descends tree, propagates splits back up. Returns 0 if node was not split.  Old node updated. If node was split, returns 1 and sets the pointer pointed to by new_node to point to the new node.  Old node updated to become one of two. The level argument specifies the number of steps up from the leaf level to insert; e.g. a data rectangle goes in at level = 0.</p>
<h3 id="insertrect">InsertRect</h3>
<p><em>protected _Bool InsertRect(const Branch &amp; a_branch, Node ** a_root, int a_level)</em></p>
<p><em>Defined at src/rocky/rtree.h#1021</em></p>
<p>Insert a data rectangle into an index structure. InsertRect provides for splitting the root; returns 1 if root was split, 0 if it was not. The level argument specifies the number of steps up from the leaf level to insert; e.g. a data rectangle goes in at level = 0. InsertRect2 does the recursion.</p>
<h3 id="nodecover">NodeCover</h3>
<p><em>protected Rect NodeCover(Node * a_node)</em></p>
<p><em>Defined at src/rocky/rtree.h#1064</em></p>
<p>Find the smallest rectangle that includes all rectangles in branches of a node.</p>
<h3 id="addbranch">AddBranch</h3>
<p><em>protected _Bool AddBranch(const Branch * a_branch, Node * a_node, Node ** a_newNode)</em></p>
<p><em>Defined at src/rocky/rtree.h#1083</em></p>
<p>Add a branch to a node.  Split the node if necessary. Returns 0 if node not split.  Old node updated. Returns 1 if node split, sets *new_node to address of new node. Old node updated, becomes one of two.</p>
<h3 id="disconnectbranch">DisconnectBranch</h3>
<p><em>protected void DisconnectBranch(Node * a_node, int a_index)</em></p>
<p><em>Defined at src/rocky/rtree.h#1108</em></p>
<p>Disconnect a dependent node. Caller must return (or stop using iteration index) after this as count has changed</p>
<h3 id="pickbranch">PickBranch</h3>
<p><em>protected int PickBranch(const Rect * a_rect, Node * a_node)</em></p>
<p><em>Defined at src/rocky/rtree.h#1126</em></p>
<p>Pick a branch.  Pick the one that will need the smallest increase in area to accomodate the new rectangle.  This will result in the least total area for the covering rectangles in the current node. In case of a tie, pick the one which was smaller before, to get the best resolution when searching.</p>
<h3 id="combinerect">CombineRect</h3>
<p><em>protected Rect CombineRect(const Rect * a_rectA, const Rect * a_rectB)</em></p>
<p><em>Defined at src/rocky/rtree.h#1164</em></p>
<p>Combine two rectangles into larger one containing both</p>
<h3 id="splitnode">SplitNode</h3>
<p><em>protected void SplitNode(Node * a_node, const Branch * a_branch, Node ** a_newNode)</em></p>
<p><em>Defined at src/rocky/rtree.h#1186</em></p>
<p>Split a node. Divides the nodes branches and the extra one between two nodes. Old node is one of the new ones, and one really new one is created. Tries more than one method for choosing a partition, uses best result.</p>
<h3 id="rectsphericalvolume">RectSphericalVolume</h3>
<p><em>protected ELEMTYPEREAL RectSphericalVolume(Rect * a_rect)</em></p>
<p><em>Defined at src/rocky/rtree.h#1234</em></p>
<p>The exact volume of the bounding sphere for the given Rect</p>
<h3 id="rectvolume">RectVolume</h3>
<p><em>protected ELEMTYPEREAL RectVolume(Rect * a_rect)</em></p>
<p><em>Defined at src/rocky/rtree.h#1215</em></p>
<p>Calculate the n-dimensional volume of a rectangle</p>
<h3 id="calcrectvolume">CalcRectVolume</h3>
<p><em>protected ELEMTYPEREAL CalcRectVolume(Rect * a_rect)</em></p>
<p><em>Defined at src/rocky/rtree.h#1267</em></p>
<p>Use one of the methods to calculate retangle volume</p>
<h3 id="getbranches">GetBranches</h3>
<p><em>protected void GetBranches(Node * a_node, const Branch * a_branch, PartitionVars * a_parVars)</em></p>
<p><em>Defined at src/rocky/rtree.h#1279</em></p>
<p>Load branch buffer with branches from full node plus the extra branch.</p>
<h3 id="choosepartition">ChoosePartition</h3>
<p><em>protected void ChoosePartition(PartitionVars * a_parVars, int a_minFill)</em></p>
<p><em>Defined at src/rocky/rtree.h#1316</em></p>
<p>Method #0 for choosing a partition: As the seeds for the two groups, pick the two rects that would waste the most area if covered by a single rectangle, i.e. evidently the worst pair to have in the same group. Of the remaining, one at a time is chosen to be put in one of the two groups. The one chosen is the one with the greatest difference in area expansion depending on which group - the rect most strongly attracted to one group and repelled from the other. If one group gets too full (more would force other group to violate min fill requirement) then other group gets the rest. These last are the ones that can go in either group most easily.</p>
<h3 id="loadnodes">LoadNodes</h3>
<p><em>protected void LoadNodes(Node * a_nodeA, Node * a_nodeB, PartitionVars * a_parVars)</em></p>
<p><em>Defined at src/rocky/rtree.h#1395</em></p>
<p>Copy branches from the buffer into two nodes according to the partition.</p>
<h3 id="initparvars">InitParVars</h3>
<p><em>protected void InitParVars(PartitionVars * a_parVars, int a_maxRects, int a_minFill)</em></p>
<p><em>Defined at src/rocky/rtree.h#1417</em></p>
<p>Initialize a PartitionVars structure.</p>
<h3 id="pickseeds">PickSeeds</h3>
<p><em>protected void PickSeeds(PartitionVars * a_parVars)</em></p>
<p><em>Defined at src/rocky/rtree.h#1433</em></p>
<h3 id="classify">Classify</h3>
<p><em>protected void Classify(int a_index, int a_group, PartitionVars * a_parVars)</em></p>
<p><em>Defined at src/rocky/rtree.h#1467</em></p>
<p>Put a branch in one of the groups.</p>
<h3 id="removerect">RemoveRect</h3>
<p><em>protected _Bool RemoveRect(Rect * a_rect, const DATATYPE &amp; a_id, Node ** a_root)</em></p>
<p><em>Defined at src/rocky/rtree.h#1496</em></p>
<p>Delete a data rectangle from an index structure. Pass in a pointer to a Rect, the tid of the record, ptr to ptr to root node. Returns 1 if record not found, 0 if success. RemoveRect provides for eliminating the root.</p>
<h3 id="removerectrec">RemoveRectRec</h3>
<p><em>protected _Bool RemoveRectRec(Rect * a_rect, const DATATYPE &amp; a_id, Node * a_node, ListNode ** a_listNode)</em></p>
<p><em>Defined at src/rocky/rtree.h#1550</em></p>
<p>Delete a rectangle from non-root part of an index structure. Called by RemoveRect.  Descends tree recursively, merges branches on the way back up. Returns 1 if record not found, 0 if success.</p>
<h3 id="alloclistnode">AllocListNode</h3>
<p><em>protected ListNode * AllocListNode()</em></p>
<p><em>Defined at src/rocky/rtree.h#912</em></p>
<p>Allocate space for a node in the list used in DeletRect to store Nodes that are too empty.</p>
<h3 id="freelistnode">FreeListNode</h3>
<p><em>protected void FreeListNode(ListNode * a_listNode)</em></p>
<p><em>Defined at src/rocky/rtree.h#923</em></p>
<h3 id="overlap">Overlap</h3>
<p><em>protected _Bool Overlap(Rect * a_rectA, Rect * a_rectB)</em></p>
<p><em>Defined at src/rocky/rtree.h#1597</em></p>
<p>Decide whether two rectangles overlap.</p>
<h3 id="reinsert">ReInsert</h3>
<p><em>protected void ReInsert(Node * a_node, ListNode ** a_listNode)</em></p>
<p><em>Defined at src/rocky/rtree.h#1616</em></p>
<p>Add a node to the reinsertion list.  All its branches will later be reinserted into the index structure.</p>
<h3 id="search_1">Search</h3>
<p><em>protected _Bool Search(Node * a_node, Rect * a_rect, int &amp; a_foundCount, CALLBACK_TYPE &amp;&amp; callback)</em></p>
<p><em>Defined at src/rocky/rtree.h#1629</em></p>
<p>Search in an index tree or subtree for all data retangles that overlap the argument rectangle.</p>
<h3 id="removeallrec">RemoveAllRec</h3>
<p><em>protected void RemoveAllRec(Node * a_node)</em></p>
<p><em>Defined at src/rocky/rtree.h#866</em></p>
<h3 id="reset">Reset</h3>
<p><em>protected void Reset()</em></p>
<p><em>Defined at src/rocky/rtree.h#853</em></p>
<h3 id="countrec">CountRec</h3>
<p><em>protected void CountRec(Node * a_node, int &amp; a_count)</em></p>
<p><em>Defined at src/rocky/rtree.h#596</em></p>
<h3 id="saverec">SaveRec</h3>
<p><em>protected _Bool SaveRec(Node * a_node, RTFileStream &amp; a_stream)</em></p>
<p><em>Defined at src/rocky/rtree.h#807</em></p>
<h3 id="loadrec">LoadRec</h3>
<p><em>protected _Bool LoadRec(Node * a_node, RTFileStream &amp; a_stream)</em></p>
<p><em>Defined at src/rocky/rtree.h#681</em></p>
<h3 id="copyrec">CopyRec</h3>
<p><em>protected void CopyRec(Node * current, Node * other)</em></p>
<p><em>Defined at src/rocky/rtree.h#717</em></p>
<h3 id="listtree">ListTree</h3>
<p><em>public int ListTree()</em></p>
<p><em>Defined at src/rocky/rtree.h#1674</em></p>
<p>return all the AABBs that form the RTree</p>
<h2 id="enums">Enums</h2>
<p>| enum  |</p>
<p>--</p>
<p>| MAXNODES |
| MINNODES |</p>
<p><em>Defined at src/rocky/rtree.h#73</em></p>
<p>These constant must be declared after Branch and before Node struct Stuck up here for MSVC 6 compiler.  NSVC .NET 2003 is much happier.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>